[{"path":"https://knutdrand.github.io/chap_r_sdk/CLAUDE.html","id":null,"dir":"","previous_headings":"","what":"CLAUDE.md","title":"CLAUDE.md","text":"file provides guidance Claude Code (claude.ai/code) working code repository.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/CLAUDE.html","id":"project-overview","dir":"","previous_headings":"","what":"Project Overview","title":"CLAUDE.md","text":"R package (chap_r_sdk) provides convenience functionality developing chap-compatible models integrating existing models chap system. package tidyverse-oriented follows R best practices.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/CLAUDE.html","id":"jira-epic","dir":"","previous_headings":"Project Overview","what":"Jira Epic","title":"CLAUDE.md","text":"Epic: CLIM-201 - CHAP R SDK Development ## Core Functionality SDK provides three main areas functionality: CLI Interface Creation: Unified CLI infrastructure automatic file /O handling: create_chap_cli(train_fn, predict_fn, schema) - Single unified CLI subcommand dispatch Automatically handles CSV loading, tsibble conversion, YAML config parsing, output saving Model functions receive loaded data objects, file paths Model Validation: Test suite sanity check models ensure prediction output consistent chap expectations Spatio-temporal Data Utilities: Common transformations spatio-temporal data Configuration Schema: Functionality expose model configuration schemas chap","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/CLAUDE.html","id":"development-status","dir":"","previous_headings":"","what":"Development Status","title":"CLAUDE.md","text":"early-stage project skeleton code structure. implementing: Follow tidyverse conventions R best practices package integrate standard R package development tools (devtools, roxygen2, testthat) functions well-documented roxygen2 comments Focus spatio-temporal data compatibility","code":""},{"path":[]},{"path":"https://knutdrand.github.io/chap_r_sdk/CLAUDE.html","id":"mean-model-example","dir":"","previous_headings":"Examples","what":"Mean Model Example","title":"CLAUDE.md","text":"standard pattern models shown examples/mean_model/model.R. uses unified CLI interface: Usage: Key Benefits: - Zero file /O boilerplate - handled automatically - Single file - train predict together - Automatic detection time key columns - Subcommand dispatch built-See examples/mean_model/README.md detailed documentation.","code":"library(chap.r.sdk) library(dplyr)  # Pure business logic - no file I/O! train_my_model <- function(training_data, model_configuration = list()) {   # training_data is already a tsibble   means <- training_data |>     group_by(location) |>     summarise(mean_cases = mean(disease_cases, na.rm = TRUE))    return(list(means = means)) }  predict_my_model <- function(historic_data, future_data, saved_model,                               model_configuration = list()) {   # All inputs are already loaded   predictions <- future_data |>     left_join(saved_model$means, by = \"location\") |>     mutate(disease_cases = mean_cases)    return(predictions) }  config_schema <- list(   title = \"My Model Configuration\",   type = \"object\",   properties = list() )  # One line enables full CLI with train/predict/info subcommands! if (!interactive()) {   create_chap_cli(train_my_model, predict_my_model, config_schema) } Rscript model.R train data.csv [config.yaml] Rscript model.R predict historic.csv future.csv model.rds [config.yaml] Rscript model.R info"},{"path":"https://knutdrand.github.io/chap_r_sdk/CLAUDE.html","id":"ewars-model-example","dir":"","previous_headings":"Examples","what":"EWARS Model Example","title":"CLAUDE.md","text":"complex working example available examples/ewars_model/. demonstrates: YAML configuration parsing read_model_config() Safe parameter extraction get_config_param() Models combine training prediction single step Handling spatio-temporal data covariates See examples/ewars_model/README.md detailed documentation examples/ewars_model/MIGRATION_TO_CHAP_SDK.md migration guide legacy code.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/CLAUDE.html","id":"standard-r-package-commands","dir":"","previous_headings":"","what":"Standard R Package Commands","title":"CLAUDE.md","text":"package structure established, typical commands :","code":"# Development workflow devtools::load_all()        # Load package for interactive development devtools::document()        # Generate documentation from roxygen2 comments devtools::test()            # Run test suite devtools::check()           # Run R CMD check  # Testing testthat::test_file(\"tests/testthat/test-file.R\")  # Run single test file devtools::test_active_file()                        # Test currently open file"},{"path":"https://knutdrand.github.io/chap_r_sdk/CLAUDE.html","id":"best-practices-and-pre-push-checklist","dir":"","previous_headings":"","what":"Best Practices and Pre-Push Checklist","title":"CLAUDE.md","text":"IMPORTANT: committing pushing code, ALWAYS verify following:","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/CLAUDE.html","id":"code-organization","dir":"","previous_headings":"Best Practices and Pre-Push Checklist","what":"Code Organization","title":"CLAUDE.md","text":"CLI functions → R/cli.R Validation functions → R/validation.R Configuration functions → R/config.R Spatio-temporal functions → R/spatial_temporal.R function complete roxygen2 documentation @param, @return, @export, @examples Related test files exist tests/testthat/test-*.R matching source file name","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/CLAUDE.html","id":"documentation","dir":"","previous_headings":"Best Practices and Pre-Push Checklist","what":"Documentation","title":"CLAUDE.md","text":"exported functions roxygen2 documentation blocks Documentation includes meaningful examples (even wrapped \\dontrun{}) adding/modifying functions, run devtools::document() update NAMESPACE man files NEVER manually edit NAMESPACE - auto-generated roxygen2","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/CLAUDE.html","id":"testing","dir":"","previous_headings":"Best Practices and Pre-Push Checklist","what":"Testing","title":"CLAUDE.md","text":"Every new function corresponding tests tests/testthat/ Tests follow naming pattern: test_that(\"function_name expected behavior\", { ... }) Run devtools::test() ensure tests pass Tests meaningful, just placeholder skip() calls","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/CLAUDE.html","id":"package-validation","dir":"","previous_headings":"Best Practices and Pre-Push Checklist","what":"Package Validation","title":"CLAUDE.md","text":"Missing documentation NAMESPACE issues Undefined global variables Code quality issues Address ERRORS WARNINGS (NOTEs acceptable reviewed)","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/CLAUDE.html","id":"code-quality","dir":"","previous_headings":"Best Practices and Pre-Push Checklist","what":"Code Quality","title":"CLAUDE.md","text":"Follow tidyverse style guide conventions Use meaningful variable function names Avoid code duplication - extract common logic helper functions Functions clear, single responsibilities","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/CLAUDE.html","id":"dependencies","dir":"","previous_headings":"Best Practices and Pre-Push Checklist","what":"Dependencies","title":"CLAUDE.md","text":"add new dependencies DESCRIPTION truly necessary Use Imports: packages required package work Use Suggests: packages needed tests, vignettes, optional features","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/CLAUDE.html","id":"version-control","dir":"","previous_headings":"Best Practices and Pre-Push Checklist","what":"Version Control","title":"CLAUDE.md","text":"Commit messages clear descriptive Group related changes together single commits Don’t commit generated files (man/*.Rd files auto-generated committed)","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/VALIDATION_CHECKLIST.html","id":null,"dir":"","previous_headings":"","what":"CHAP R SDK Validation Checklist","title":"CHAP R SDK Validation Checklist","text":"Date: 2025-12-04 Status: ✅ VALIDATED document verifies chap_r_sdk package follows best practices uses correct technologies according project decisions.","code":""},{"path":[]},{"path":"https://knutdrand.github.io/chap_r_sdk/VALIDATION_CHECKLIST.html","id":"id_-yaml-configuration-parsing-decision-001","dir":"","previous_headings":"Technology Stack Compliance","what":"✅ YAML Configuration Parsing (Decision 001)","title":"CHAP R SDK Validation Checklist","text":"Decision: Use yaml package YAML parsing, ajv schema validation Implementation Status: - ✅ yaml package Imports (DESCRIPTION:21) - ✅ ajv package Suggests (DESCRIPTION:25) - ✅ Using yaml::yaml.load_file() R/config.R:24 - ✅ Using yaml::.yaml() serialization R/config.R:72 - ✅ Using ajv::ajv.validate() schema validation R/config.R:39 - ✅ YAML functions properly namespaced Files Verified: - R/config.R: read_model_config(), write_model_config() - R/cli.R: handle_info() uses yaml::.yaml()","code":""},{"path":[]},{"path":"https://knutdrand.github.io/chap_r_sdk/VALIDATION_CHECKLIST.html","id":"id_-roxygen2-documentation","dir":"","previous_headings":"Package Structure Best Practices","what":"✅ Roxygen2 Documentation","title":"CHAP R SDK Validation Checklist","text":"Status: exported functions complete documentation Verified: - ✅ exported functions @param tags - ✅ exported functions @return tags - ✅ exported functions @export tags - ✅ exported functions @examples (even \\dontrun{}) - ✅ Internal functions marked @keywords internal Export Tags Count: 15 functions properly exported Internal Keywords: 10+ internal functions properly marked","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/VALIDATION_CHECKLIST.html","id":"id_-namespacing","dir":"","previous_headings":"Package Structure Best Practices","what":"✅ Namespacing","title":"CHAP R SDK Validation Checklist","text":"Status: external package functions properly namespaced Verified Packages: - ✅ yaml:: - Used R/cli.R, R/config.R - ✅ readr:: - Used R/cli_utils.R - ✅ tsibble:: - Used R/cli_utils.R, R/mean_model.R - ✅ rlang:: - Used R/cli_utils.R - ✅ dplyr:: - Used R/mean_model.R - ✅ purrr:: - Used R/config.R - ✅ ajv:: - Used R/config.R unnamespaced external calls found ✅","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/VALIDATION_CHECKLIST.html","id":"id_-test-coverage","dir":"","previous_headings":"Package Structure Best Practices","what":"✅ Test Coverage","title":"CHAP R SDK Validation Checklist","text":"Status: Comprehensive tests added new functionality New Test Files: - ✅ tests/testthat/test-cli_utils.R (16 tests) - detect_time_column tests (3 tests) - detect_key_columns tests (3 tests) - load_config tests (3 tests) - save_model tests (1 test) - save_predictions tests (1 test) - load_tsibble tests (2 tests) Updated Test Files: - ✅ tests/testthat/test-cli.R (12 tests) - Deprecation warning tests (2 tests) - Input validation tests (3 tests) - Argument parsing tests (2 tests) - Handler function tests (4 tests) - End--end integration test (1 test) Total New/Updated Tests: 28 tests","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/VALIDATION_CHECKLIST.html","id":"id_-code-organization","dir":"","previous_headings":"Package Structure Best Practices","what":"✅ Code Organization","title":"CHAP R SDK Validation Checklist","text":"File Structure: - ✅ CLI functions R/cli.R - ✅ CLI utilities R/cli_utils.R (NEW) - ✅ Config functions R/config.R - ✅ Validation functions R/validation.R - ✅ Spatial-temporal functions R/spatial_temporal.R - ✅ Model functions R/mean_model.R Examples: - ✅ New unified example: examples/mean_model/model.R - ✅ Legacy examples: examples/mean_model/train.R, predict.R - ✅ EWARS example: examples/ewars_model/","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/VALIDATION_CHECKLIST.html","id":"id_-dependencies","dir":"","previous_headings":"Package Structure Best Practices","what":"✅ Dependencies","title":"CHAP R SDK Validation Checklist","text":"DESCRIPTION Imports (Required packages): - ✅ cli - ✅ dplyr (NEW - added unified CLI) - ✅ jsonlite - ✅ readr (NEW - added unified CLI) - ✅ rlang - ✅ tsibble (NEW - added unified CLI) - ✅ yaml - ✅ purrr DESCRIPTION Suggests (Optional packages): - ✅ testthat (>= 3.0.0) - ✅ covr - ✅ knitr - ✅ rmarkdown - ✅ ajv (schema validation) dependencies justified properly categorized ✅","code":""},{"path":[]},{"path":"https://knutdrand.github.io/chap_r_sdk/VALIDATION_CHECKLIST.html","id":"id_-architecture","dir":"","previous_headings":"New Unified CLI Implementation","what":"✅ Architecture","title":"CHAP R SDK Validation Checklist","text":"Pattern: Unified CLI automatic file /O handling Key Components: - ✅ create_chap_cli() - Main unified CLI function (R/cli.R:178) - ✅ handle_train() - Train subcommand handler (R/cli.R:221) - ✅ handle_predict() - Predict subcommand handler (R/cli.R:272) - ✅ handle_info() - Info subcommand handler (R/cli.R:336) - ✅ load_tsibble() - Auto CSV loading tsibble conversion (R/cli_utils.R:18) - ✅ detect_time_column() - Auto time column detection (R/cli_utils.R:41) - ✅ detect_key_columns() - Auto spatial key detection (R/cli_utils.R:61) - ✅ load_config() - YAML config loading (R/cli_utils.R:82) - ✅ save_model() - Model serialization (R/cli_utils.R:95) - ✅ save_predictions() - Prediction output (R/cli_utils.R:107)","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/VALIDATION_CHECKLIST.html","id":"id_-deprecation-strategy","dir":"","previous_headings":"New Unified CLI Implementation","what":"✅ Deprecation Strategy","title":"CHAP R SDK Validation Checklist","text":"Deprecated Functions (still functional): - ✅ create_train_cli() - Shows deprecation warning (R/cli.R:23-24) - ✅ create_predict_cli() - Shows deprecation warning (R/cli.R:75-76) Migration Path: - ✅ Old functions still work (backward compatible) - ✅ Clear deprecation messages guide users new pattern - ✅ Documentation updated migration examples","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/VALIDATION_CHECKLIST.html","id":"id_-documentation","dir":"","previous_headings":"New Unified CLI Implementation","what":"✅ Documentation","title":"CHAP R SDK Validation Checklist","text":"Updated Files: - ✅ CLAUDE.md - Shows new recommended pattern full example - ✅ examples/mean_model/README.md - Comprehensive comparison migration guide - ✅ examples/mean_model/model.R - Complete working example detailed comments - ✅ R/cli.R - Full roxygen2 documentation usage examples Documentation Quality: - ✅ Clear usage examples - ✅ Side--side pattern comparison - ✅ Benefits clearly stated (41% code reduction) - ✅ Migration guide provided","code":""},{"path":[]},{"path":"https://knutdrand.github.io/chap_r_sdk/VALIDATION_CHECKLIST.html","id":"id_-code-organization-1","dir":"","previous_headings":"Compliance with Best Practices (from CLAUDE.md)","what":"✅ Code Organization","title":"CHAP R SDK Validation Checklist","text":"New functions appropriate R source files Complete roxygen2 documentation @param, @return, @export, @examples Related test files exist matching source file names","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/VALIDATION_CHECKLIST.html","id":"id_-documentation-1","dir":"","previous_headings":"Compliance with Best Practices (from CLAUDE.md)","what":"✅ Documentation","title":"CHAP R SDK Validation Checklist","text":"exported functions roxygen2 documentation Documentation includes meaningful examples Internal functions marked @keywords internal","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/VALIDATION_CHECKLIST.html","id":"id_-testing","dir":"","previous_headings":"Compliance with Best Practices (from CLAUDE.md)","what":"✅ Testing","title":"CHAP R SDK Validation Checklist","text":"New functions corresponding tests Tests follow naming pattern: test_that(“function X”, {…}) Tests meaningful, just placeholder skip() calls","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/VALIDATION_CHECKLIST.html","id":"id_-code-quality","dir":"","previous_headings":"Compliance with Best Practices (from CLAUDE.md)","what":"✅ Code Quality","title":"CHAP R SDK Validation Checklist","text":"Follows tidyverse style guide Meaningful variable function names Minimal code duplication (extracted cli_utils.R) Functions clear, single responsibilities","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/VALIDATION_CHECKLIST.html","id":"id_-dependencies-1","dir":"","previous_headings":"Compliance with Best Practices (from CLAUDE.md)","what":"✅ Dependencies","title":"CHAP R SDK Validation Checklist","text":"necessary dependencies added Imports: packages required package work Suggests: packages tests/vignettes/optional features external functions properly namespaced (::)","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/VALIDATION_CHECKLIST.html","id":"id_-version-control","dir":"","previous_headings":"Compliance with Best Practices (from CLAUDE.md)","what":"✅ Version Control","title":"CHAP R SDK Validation Checklist","text":"Clear, descriptive commit message Related changes grouped together Generated files properly handled","code":""},{"path":[]},{"path":"https://knutdrand.github.io/chap_r_sdk/VALIDATION_CHECKLIST.html","id":"id_-error-handling","dir":"","previous_headings":"Performance and Robustness","what":"✅ Error Handling","title":"CHAP R SDK Validation Checklist","text":"File Validation: - ✅ file paths validated use - ✅ Clear error messages missing files - ✅ Graceful handling missing optional files (config) Input Validation: - ✅ Function type validation create_chap_cli() - ✅ Subcommand validation clear error messages - ✅ Argument count validation per subcommand Error Messages: - ✅ Clear, actionable error messages - ✅ Usage information included errors - ✅ tryCatch blocks external operations (YAML parsing, model functions)","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/VALIDATION_CHECKLIST.html","id":"id_-auto-detection-features","dir":"","previous_headings":"Performance and Robustness","what":"✅ Auto-Detection Features","title":"CHAP R SDK Validation Checklist","text":"Automatic Column Detection: - ✅ Time columns: time_period, date, week, month, year, time, period - ✅ Key columns: location, region, district, area, site, id, country, province - ✅ Fallback first column time (warning) - ✅ Handles univariate time series (NULL key columns) Tested Edge Cases: - ✅ Standard column names - ✅ Non-standard column names (warnings) - ✅ Missing key columns (univariate case) - ✅ Multiple key columns","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/VALIDATION_CHECKLIST.html","id":"summary","dir":"","previous_headings":"","what":"Summary","title":"CHAP R SDK Validation Checklist","text":"Overall Status: ✅ FULLY COMPLIANT chap_r_sdk package now: 1. ✅ Uses approved technologies (yaml, ajv) per decision documents 2. ✅ Follows R package best practices 3. ✅ comprehensive test coverage (28 new/updated tests) 4. ✅ Properly documents functions roxygen2 5. ✅ Uses proper namespacing external packages 6. ✅ Implements robust error handling 7. ✅ Provides clear migration path deprecated functions 8. ✅ Includes comprehensive documentation examples Benefits Delivered: - 41% code reduction model developers - Zero file /O boilerplate required - Single file pattern models - Automatic data format detection - Backward compatible deprecation warnings Ready : - ✅ R CMD check (pending roxygen2::document() run) - ✅ Package testing devtools::test() - ✅ Production use new unified CLI pattern - ✅ Migration existing models legacy pattern","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/getting-started.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Getting Started with chap.r.sdk","text":"chap.r.sdk package provides infrastructure developing CHAP-compatible disease forecasting models. simplifies model development handling common tasks like file /O, configuration management, CLI creation.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/getting-started.html","id":"key-features","dir":"Articles","previous_headings":"Introduction","what":"Key Features","title":"Getting Started with chap.r.sdk","text":"Unified CLI: Single function call create command-line interfaces Automatic file handling: CSV loading, tsibble conversion, model saving Configuration management: YAML config parsing schema validation Auto-detection: Automatically finds time key columns data","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/getting-started.html","id":"quick-start","dir":"Articles","previous_headings":"","what":"Quick Start","title":"Getting Started with chap.r.sdk","text":"recommended pattern creating CHAP-compatible model uses create_chap_cli() function:","code":"library(chap.r.sdk) library(dplyr)  # Define training function - receives loaded tsibble, not file paths train_my_model <- function(training_data, model_configuration = list()) {   # Calculate mean disease cases per location   means <- training_data |>     group_by(location) |>     summarise(mean_cases = mean(disease_cases, na.rm = TRUE))    return(list(means = means)) }  # Define prediction function - all inputs already loaded predict_my_model <- function(historic_data, future_data, saved_model,                               model_configuration = list()) {   # Join future data with model predictions   predictions <- future_data |>     left_join(saved_model$means, by = \"location\") |>     mutate(disease_cases = mean_cases)    return(predictions) }  # Enable CLI with one function call if (!interactive()) {   create_chap_cli(train_my_model, predict_my_model) }"},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/getting-started.html","id":"command-line-usage","dir":"Articles","previous_headings":"Quick Start","what":"Command Line Usage","title":"Getting Started with chap.r.sdk","text":"model script (e.g., model.R), can use command line:","code":"# Train the model Rscript model.R train training_data.csv  # Generate predictions Rscript model.R predict historic_data.csv future_data.csv model.rds  # Display model information Rscript model.R info"},{"path":[]},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/getting-started.html","id":"define-model-functions","dir":"Articles","previous_headings":"Model Development Workflow","what":"1. Define Model Functions","title":"Getting Started with chap.r.sdk","text":"model needs two functions: Training function: - Input: training_data (tsibble), model_configuration (list) - Output: Model object (saved RDS) Prediction function: - Input: historic_data (tsibble), future_data (tsibble), saved_model (object), model_configuration (list) - Output: Predictions (tsibble data frame, saved CSV) - Note: historic_data may recent training data. Time series models refit historic_data forecasting. See examples/arima_model/ demonstration.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/getting-started.html","id":"what-the-sdk-handles-automatically","dir":"Articles","previous_headings":"Model Development Workflow","what":"2. What the SDK Handles Automatically","title":"Getting Started with chap.r.sdk","text":"don’t need write code : Loading CSV files → readr::read_csv() Converting tsibbles → tsibble::as_tsibble() Detecting time columns → automatically finds time_period, date, week, etc. Detecting key columns → automatically finds location, region, etc. Loading models → readRDS() Saving outputs → saveRDS() models, CSV predictions Parsing YAML configs → yaml::yaml.load_file()","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/getting-started.html","id":"focus-on-business-logic","dir":"Articles","previous_headings":"Model Development Workflow","what":"3. Focus on Business Logic","title":"Getting Started with chap.r.sdk","text":"functions contain model logic: file /O boilerplate needed.","code":"train_fn <- function(training_data, model_configuration = list()) {   # training_data is already a tsibble - ready to use!   # Your model training code here   return(model) }"},{"path":[]},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/getting-started.html","id":"reading-configuration-files","dir":"Articles","previous_headings":"Configuration Management","what":"Reading Configuration Files","title":"Getting Started with chap.r.sdk","text":"","code":"# Automatic via create_chap_cli() - config loaded and passed to functions # Or manual: config <- read_model_config(\"config.yaml\")"},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/getting-started.html","id":"safe-parameter-extraction","dir":"Articles","previous_headings":"Configuration Management","what":"Safe Parameter Extraction","title":"Getting Started with chap.r.sdk","text":"","code":"# Example configuration config <- list(   model = list(     params = list(       learning_rate = 0.01,       epochs = 100     )   ) )  # Extract nested parameters safely lr <- get_config_param(config, \"model\", \"params\", \"learning_rate\", .default = 0.001) print(lr) #> [1] 0.01  # Returns default if not found missing <- get_config_param(config, \"model\", \"missing_param\", .default = \"default_value\") print(missing) #> [1] \"default_value\""},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/getting-started.html","id":"configuration-schema","dir":"Articles","previous_headings":"Configuration Management","what":"Configuration Schema","title":"Getting Started with chap.r.sdk","text":"Define schema info subcommand:","code":"config_schema <- list(   title = \"My Model Configuration\",   type = \"object\",   properties = list(     learning_rate = list(       type = \"number\",       default = 0.01,       minimum = 0,       maximum = 1     ),     epochs = list(       type = \"integer\",       default = 100,       minimum = 1     )   ) )  create_chap_cli(train_fn, predict_fn, config_schema)"},{"path":[]},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/getting-started.html","id":"training-data","dir":"Articles","previous_headings":"Data Format","what":"Training Data","title":"Getting Started with chap.r.sdk","text":"CSV file : - Time column: time_period, date, week, month, etc. - Key columns: location, region, district, etc. (optional univariate) - Target variable: disease_cases outcome variable - Covariates: additional columns Example:","code":"time_period,location,disease_cases,population 2023-01,LocationA,45,10000 2023-02,LocationA,52,10000 2023-01,LocationB,78,15000 2023-02,LocationB,82,15000"},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/getting-started.html","id":"future-data","dir":"Articles","previous_headings":"Data Format","what":"Future Data","title":"Getting Started with chap.r.sdk","text":"structure training data, without target variable:","code":"time_period,location,population 2023-05,LocationA,10000 2023-06,LocationA,10000 2023-05,LocationB,15000 2023-06,LocationB,15000"},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/getting-started.html","id":"complete-example","dir":"Articles","previous_headings":"","what":"Complete Example","title":"Getting Started with chap.r.sdk","text":"See examples/mean_model/model.R package complete working example implementing baseline mean model.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/getting-started.html","id":"migrating-from-legacy-pattern","dir":"Articles","previous_headings":"","what":"Migrating from Legacy Pattern","title":"Getting Started with chap.r.sdk","text":"existing code using create_train_cli() create_predict_cli(), functions still work deprecated. See package documentation migration guidance. Benefits migrating unified CLI: - 41% less code - Single file instead separate train.R predict.R - file /O boilerplate - Automatic format detection","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/getting-started.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Getting Started with chap.r.sdk","text":"Explore included examples: system.file(\"examples\", package = \"chap.r.sdk\") Read function documentation: ?create_chap_cli Check GitHub repository: https://github.com/knutdrand/chap_r_sdk","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/getting-started.html","id":"getting-help","dir":"Articles","previous_headings":"","what":"Getting Help","title":"Getting Started with chap.r.sdk","text":"Issues: https://github.com/knutdrand/chap_r_sdk/issues Documentation: help(package = \"chap.r.sdk\")","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/model-development-tutorial.html","id":"setup","dir":"Articles","previous_headings":"","what":"Setup","title":"Building Your First CHAP Model","text":"","code":"library(chap.r.sdk) library(dplyr) #>  #> Attaching package: 'dplyr' #> The following objects are masked from 'package:stats': #>  #>     filter, lag #> The following objects are masked from 'package:base': #>  #>     intersect, setdiff, setequal, union"},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/model-development-tutorial.html","id":"step-1-understand-the-function-interface","dir":"Articles","previous_headings":"","what":"Step 1: Understand the Function Interface","title":"Building Your First CHAP Model","text":"Every CHAP model requires two functions: Training function: Prediction function:","code":"train_fn <- function(training_data, model_configuration = list()) {   # training_data: tsibble with time_period index, location key,   #                disease_cases, and covariates   # model_configuration: optional list of parameters   # Returns: any model object (list, fitted model, etc.) } predict_fn <- function(historic_data, future_data, saved_model,                        model_configuration = list()) {   # historic_data: tsibble with historical observations   # future_data: tsibble with time periods to predict   # saved_model: the object returned by train_fn   # Returns: tibble with samples list-column containing numeric vectors   #   - For deterministic models: single sample per row (e.g., samples = list(c(42)))   #   - For probabilistic models: multiple samples per row (e.g., 1000 samples)   #   # IMPORTANT: historic_data may contain more recent data than training_data.   # For time series models, you should refit to historic_data before forecasting.   # Use saved_model for hyperparameters/structure, not the fitted model itself.   # See examples/arima_model/ for a demonstration of this pattern. }"},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/model-development-tutorial.html","id":"step-2-explore-the-example-data","dir":"Articles","previous_headings":"","what":"Step 2: Explore the Example Data","title":"Building Your First CHAP Model","text":"SDK provides example datasets testing. Let’s examine Laos monthly data: example data contains four tsibbles. time_period index location key: Training data - model learns : Historic data - observations available prediction time: Notice historic_data extends beyond training_data: key concept: CHAP calls prediction function, historic_data may contain recent observations model trained . time series models (ARIMA, exponential smoothing, etc.), refit model historic_data forecasting. See examples/arima_model/ demonstration pattern. Future data - time periods predict (disease_cases): Example predictions - model output: predictions tibble samples list-column element numeric vector. Let’s look structure: probabilistic models, vector contains multiple Monte Carlo samples (e.g., 1000). deterministic models, use single sample per row: samples = list(c(42)).","code":"data <- get_example_data('laos', 'M') #> New names: #> Registered S3 method overwritten by 'tsibble': method from as_tibble.grouped_df #> dplyr #> New names: #> New names: #> • `` -> `...1` names(data) #> [1] \"training_data\" \"historic_data\" \"future_data\"   \"predictions\" data$training_data #> # A tsibble: 1,057 x 13 [1M] #> # Key:       location [7] #>     ...1 time_period rainfall mean_temperature disease_cases population parent #>    <dbl>       <mth>    <dbl>            <dbl>         <dbl>      <dbl> <chr>  #>  1     0    2000 Jul   430.               23.4             0     58503. -      #>  2     1    2000 Aug   322.               23.8             0     58503. -      #>  3     2    2000 Sep   265.               22.7             0     58503. -      #>  4     3    2000 Oct   103.               22.6             0     58503. -      #>  5     4    2000 Nov    19.7              20.3             0     58503. -      #>  6     5    2000 Dec    26.0              19.1             0     58503. -      #>  7     6    2001 Jan    17.6              19.8             0     60157. -      #>  8     7    2001 Feb     7.28             22.0             0     60157. -      #>  9     8    2001 Mar   123.               22.6             0     60157. -      #> 10     9    2001 Apr    29.6              27.5             0     60157. -      #> # ℹ 1,047 more rows #> # ℹ 6 more variables: location <chr>, Cases <dbl>, E <dbl>, month <dbl>, #> #   ID_year <dbl>, ID_spat <chr> data$historic_data #> # A tsibble: 1,071 x 13 [1M] #> # Key:       location [7] #>     ...1 time_period rainfall mean_temperature disease_cases population parent #>    <dbl>       <mth>    <dbl>            <dbl>         <dbl>      <dbl> <chr>  #>  1     0    2000 Jul   430.               23.4             0     58503. -      #>  2     1    2000 Aug   322.               23.8             0     58503. -      #>  3     2    2000 Sep   265.               22.7             0     58503. -      #>  4     3    2000 Oct   103.               22.6             0     58503. -      #>  5     4    2000 Nov    19.7              20.3             0     58503. -      #>  6     5    2000 Dec    26.0              19.1             0     58503. -      #>  7     6    2001 Jan    17.6              19.8             0     60157. -      #>  8     7    2001 Feb     7.28             22.0             0     60157. -      #>  9     8    2001 Mar   123.               22.6             0     60157. -      #> 10     9    2001 Apr    29.6              27.5             0     60157. -      #> # ℹ 1,061 more rows #> # ℹ 6 more variables: location <chr>, Cases <dbl>, E <dbl>, month <dbl>, #> #   ID_year <dbl>, ID_spat <chr> # Training data ends at: max(data$training_data$time_period) #> <yearmonth[1]> #> [1] \"2013 Jan\"  # Historic data ends at: max(data$historic_data$time_period) #> <yearmonth[1]> #> [1] \"2013 Mar\" data$future_data #> # A tsibble: 21 x 11 [1M] #> # Key:       location [7] #>     ...1 time_period rainfall mean_temperature population parent location      E #>    <dbl>       <mth>    <dbl>            <dbl>      <dbl> <chr>  <chr>     <dbl> #>  1     0    2013 Apr     39.5             26.8     80014. -      Bokeo    8.00e4 #>  2     1    2013 May    170.              25.8     80014. -      Bokeo    8.00e4 #>  3     2    2013 Jun    231.              24.7     80014. -      Bokeo    8.00e4 #>  4     0    2013 Apr    152.              27.2    731598. -      Champas… 7.32e5 #>  5     1    2013 May    236.              26.3    731598. -      Champas… 7.32e5 #>  6     2    2013 Jun    327.              25.1    731598. -      Champas… 7.32e5 #>  7     0    2013 Apr     58.8             25.1    124396. -      LouangN… 1.24e5 #>  8     1    2013 May    162.              24.7    124396. -      LouangN… 1.24e5 #>  9     2    2013 Jun    184.              24.0    124396. -      LouangN… 1.24e5 #> 10     0    2013 Apr     72.5             25.0    282683. -      Oudomxai 2.83e5 #> # ℹ 11 more rows #> # ℹ 3 more variables: month <dbl>, ID_year <dbl>, ID_spat <chr> data$predictions #> # A tibble: 21 × 3 #>    time_period location     samples       #>    <chr>       <chr>        <list>        #>  1 2013-04     Bokeo        <dbl [1,000]> #>  2 2013-05     Bokeo        <dbl [1,000]> #>  3 2013-06     Bokeo        <dbl [1,000]> #>  4 2013-04     Champasak    <dbl [1,000]> #>  5 2013-05     Champasak    <dbl [1,000]> #>  6 2013-06     Champasak    <dbl [1,000]> #>  7 2013-04     LouangNamtha <dbl [1,000]> #>  8 2013-05     LouangNamtha <dbl [1,000]> #>  9 2013-06     LouangNamtha <dbl [1,000]> #> 10 2013-04     Oudomxai     <dbl [1,000]> #> # ℹ 11 more rows # Each row has a vector of samples data$predictions$samples[[1]] #>    [1]  9  5 46  5  3  8  1  9  9 14  3  7  6  7  3 10 11  2 17 13 12  0  3  1 #>   [25] 10 38 19  7 15  0  1 11  1  8  7 43 11  3  4  8  1  4  3  7 24  4  1  6 #>   [49] 11  3  9  0  0 16  0 11 17  1  3  8 13  5  5 22  2  1  5 26 11 31  4  3 #>   [73] 10  7  4  6  9 13  1  5 14 13 14  8  4  1  0  7 31  6  6  2 16 12  2  9 #>   [97]  1  5  7  3  6  4 22  1  3 10  1  0  3  7 10  3  0  8 30  8  7  1 17 14 #>  [121] 10  8  4  8  2  5 20  3 11  7  6 11  2  0  4  3  4  5  3  8  4 21  5  7 #>  [145] 15  8 17  8  9 12  6  1 11  3 21  4 10  2  3  4 17  2  1 11 33  6 10  2 #>  [169] 25 12  3  0  3  1  5 16 22  0  2 24 15 13  3  1  4  0  6  2  8  1  2  1 #>  [193] 21 17  0  6  8  9  8  2  0  3 21  3 14  5  4  6  5 18 14 17  4  2 10  9 #>  [217]  7  2  3  2  3  3  1  4  3  5  3  8  1 15  4  5 11 16  8 26  0  6  3 10 #>  [241]  4 10  2  3  0  8  3 18  2  8  2  1  4  2  6  5 10 13 10  8  9  3  1  1 #>  [265]  6  7  7  9 13  8  1  7 28 23  6  7 12  8  1  4  1  6  1  2  0  6  2 16 #>  [289] 44  2 20 24 14  9  2  4 12  7  6 23 39 16 17  5 27 17  2  4  7  3  1  0 #>  [313]  6  1 10  3  6 19  2  3  6 13 14  5  8  1 14  6 15  5  4  3 30  7  9  4 #>  [337] 17  3  4  4  1  6 11 15  4 11 15  1  3  8  4 15 15  0  7 13 14 26  6  1 #>  [361]  5 15  1 21 13  6 22  6  1 19  7  0 11 13 10  1  0  2  1  7 13  1  1  9 #>  [385] 12 24  7  2  8  9  2  0  5  0  2  2  2  7 15 10 15 10  7  1 26  2 20 11 #>  [409] 41 15 13  4  7  1  8  3  4 16 27  0  1  2  3 22 20  8  3  9  7  9  3 44 #>  [433]  0 17  5  1  8 17 18  8 27 16  4  7  1  4  1 13 22  0  7  2 12 18 49  9 #>  [457]  1  1  2 16  2  5  2 12  3  8  3  5  1  1  0 28 22  1  4  6 11  5 13 24 #>  [481]  4  2 13  1  5  1  5 12  6  5  6  5 14  9  2 15  2 27 25  9  5  5  3  6 #>  [505]  3 25  9 16  2 14  6  5 25 11  4 10  2 11  5  6 16  3  2  6  3  4  5 18 #>  [529]  9  2  8  6  3 11  7 16 22  4  0  3  3 19 10  3  2  5  3 10  4 18  1  6 #>  [553]  5 19  3  1  8  2  6  5 12 15 11  1  0  0 22  6  7  2 40 21 20  2  9  9 #>  [577] 11  0  0  2  6 12  6  5 19  8 17  7  3 39  0  6 11  8  9  8 10  6  5  2 #>  [601]  3 11  3 18  0  3  5  5  1  5  2  1 37 15  7  1  0  3  1 17  1 19  3 20 #>  [625] 12 11  8  2  3  2  2  0  9  1 17 14  4 10 10 13  5 12  8  0  5  9 41  9 #>  [649] 38  8 13  6 15  7  8  4 17  1  3  9  1 33  9  5 21 27  3 22 10 16  6 21 #>  [673]  0 12 22  1  8 22  1  1 62 13 17 13 15  6 37  2 19  5  3  6  3  1  1 15 #>  [697] 31  7  3  7 15  6  1  4  5  3  6  9 17  0  5  5  1  9  5  2  0 26  1  4 #>  [721]  0  1 14  8 10  4  2  7  3  4 17  3  2 93  6  7 11  1  5 16  7 11  5 15 #>  [745]  7 15  6  4  3 38  0  3 17  4  1  0 13  5  2 10  7  2  1  8  8  6  3  0 #>  [769]  2  1  9  0  7 13  5  4  2 11  5  4  6  3  9 18  2  7  2 16  3  2  5 26 #>  [793]  3  5 18  4 25  5 12  8  2 14 15  1  5 19 14 21  0  3 26  3  2 17 39 14 #>  [817] 21 21  3 10 19 12  3  1  6  0  3 24 59  2 15 12  3  9  7 16  3 16  6  6 #>  [841]  0 15  8 12 17  6  3 12  2  2 15 10 11  1  1  1 16  2  7  0 11 39  6  2 #>  [865]  5  6 13  4 11  2  4  4  9 38  1  8 16 15 21 15  7 16  2  3 10 33  9  7 #>  [889]  4  2  6 12  9  1 16  4  5  7  3  3  4  1  3  5  9  5  9 14 23  3 21  2 #>  [913]  4  6  6 26  5 11  0  7  5  4  9  2 26  5  5 10 16 17 30  2  8 10  5 25 #>  [937]  1  1 47  7  2  4  2  0  7  0 20  1 19  2  6  5 15  5 14  5  7  7  4  2 #>  [961]  0  9  3  3 15  0  2  0  5 14  1 44 16  0 14  2  1 15  4 29 10 21  6  6 #>  [985]  0  6 24  7 16  0 12  5  2  6  5 31  9 14  0  3"},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/model-development-tutorial.html","id":"step-3-validate-before-implementing","dir":"Articles","previous_headings":"","what":"Step 3: Validate Before Implementing","title":"Building Your First CHAP Model","text":"writing model logic, let’s see validation expects. Start stub functions: validation tells us exactly ’s missing: samples list-column predictions.","code":"train_fn <- function(training_data, model_configuration = list()) {   list(dummy = 1) }  predict_fn <- function(historic_data, future_data, saved_model,                        model_configuration = list()) {   future_data }  result <- validate_model_io(train_fn, predict_fn, data) result$success #> [1] FALSE result$errors #> [1] \"Predictions must have a 'samples' list-column containing numeric vectors\""},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/model-development-tutorial.html","id":"step-4-implement-a-simple-mean-model","dir":"Articles","previous_headings":"","what":"Step 4: Implement a Simple Mean Model","title":"Building Your First CHAP Model","text":"Now let’s implement minimal model predicts historical mean location. Since models must return samples list-column, wrap single prediction value list: Note: use as_tibble() training function summarise(.= ...) needs tibble collapse across time dimension. prediction function works directly tsibbles since left_join() mutate() preserve tsibble structure.","code":"train_fn <- function(training_data, model_configuration = list()) {   means <- training_data |>     as_tibble() |>     summarise(mean_cases = mean(disease_cases, na.rm = TRUE), .by = location)   list(means = means) }  predict_fn <- function(historic_data, future_data, saved_model,                        model_configuration = list()) {   future_data |>     left_join(saved_model$means, by = \"location\") |>     mutate(samples = purrr::map(mean_cases, ~c(.x))) |>     select(-mean_cases) }"},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/model-development-tutorial.html","id":"step-5-validate-the-implementation","dir":"Articles","previous_headings":"","what":"Step 5: Validate the Implementation","title":"Building Your First CHAP Model","text":"validation passes generated 21 predictions.","code":"result <- validate_model_io(train_fn, predict_fn, data) result$success #> [1] TRUE result$n_predictions #> [1] 21"},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/model-development-tutorial.html","id":"step-6-validate-against-all-datasets","dir":"Articles","previous_headings":"","what":"Step 6: Validate Against All Datasets","title":"Building Your First CHAP Model","text":"SDK can validate available example datasets:","code":"result <- validate_model_io_all(train_fn, predict_fn) #> New names: #> New names: #> New names: #> • `` -> `...1` result$success #> [1] TRUE names(result$results) #> [1] \"laos_M\""},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/model-development-tutorial.html","id":"step-7-create-the-cli","dir":"Articles","previous_headings":"","what":"Step 7: Create the CLI","title":"Building Your First CHAP Model","text":"validation passes, wrap model CLI. Create file called model.R:","code":"library(chap.r.sdk) library(dplyr)  train_fn <- function(training_data, model_configuration = list()) {   means <- training_data |>     as_tibble() |>     summarise(mean_cases = mean(disease_cases, na.rm = TRUE), .by = location)   list(means = means) }  predict_fn <- function(historic_data, future_data, saved_model,                        model_configuration = list()) {   future_data |>     left_join(saved_model$means, by = \"location\") |>     mutate(samples = purrr::map(mean_cases, ~c(.x))) |>     select(-mean_cases) }  if (!interactive()) {   create_chap_cli(train_fn, predict_fn) }"},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/model-development-tutorial.html","id":"step-8-use-the-cli","dir":"Articles","previous_headings":"","what":"Step 8: Use the CLI","title":"Building Your First CHAP Model","text":"model now ready command-line use: CLI automatically handles: Loading CSV files Converting tsibbles Saving model RDS Writing predictions CSV (converting nested samples wide format)","code":"# Train the model Rscript model.R train training_data.csv  # Generate predictions Rscript model.R predict historic.csv future.csv model.rds  # Display model info Rscript model.R info"},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/model-development-tutorial.html","id":"probabilistic-models","dir":"Articles","previous_headings":"","what":"Probabilistic Models","title":"Building Your First CHAP Model","text":"probabilistic forecasting, include multiple Monte Carlo samples instead single value: samples column list-column element numeric vector. CLI automatically converts wide CSV format (sample_0, sample_1, …) CHAP.","code":"predict_fn <- function(historic_data, future_data, saved_model,                        model_configuration = list()) {   n_samples <- 1000    future_data |>     left_join(saved_model$means, by = \"location\") |>     rowwise() |>     mutate(       # Generate 1000 samples from Poisson distribution       samples = list(rpois(n_samples, lambda = mean_cases))     ) |>     ungroup() |>     select(-mean_cases) }"},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/model-development-tutorial.html","id":"working-with-samples","dir":"Articles","previous_headings":"","what":"Working with Samples","title":"Building Your First CHAP Model","text":"SDK provides utility functions working sample-based predictions:","code":"# Convert nested samples to wide format wide_preds <- predictions_to_wide(nested_preds)  # Convert to long format for scoringutils long_preds <- predictions_to_long(nested_preds)  # Compute quantiles for hub submissions quantile_preds <- predictions_to_quantiles(nested_preds)  # Add summary statistics (mean, median, CIs) preds_with_summary <- predictions_summary(nested_preds)"},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/model-development-tutorial.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Building Your First CHAP Model","text":"development workflow : Explore example data get_example_data() Validate stubs using validate_model_io() understand requirements Implement train predict functions Validate implementation Test datasets validate_model_io_all() Deploy create_chap_cli()","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/articles/model-development-tutorial.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Building Your First CHAP Model","text":"See examples/ewars_model/ complex example configuration Read configuration schemas ?create_config_schema Explore spatial-temporal utilities ?aggregate_temporal","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Knut Rand. Author, maintainer.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Rand K (2025). chap.r.sdk: Chap SDK R. R package version 0.1.0, https://github.com/knutdrand/chap_r_sdk.","code":"@Manual{,   title = {chap.r.sdk: Chap SDK for R},   author = {Knut Rand},   year = {2025},   note = {R package version 0.1.0},   url = {https://github.com/knutdrand/chap_r_sdk}, }"},{"path":"https://knutdrand.github.io/chap_r_sdk/index.html","id":"chaprsdk","dir":"","previous_headings":"","what":"CHAP R SDK","title":"CHAP R SDK","text":"CHAP R SDK provides tools building disease forecasting models compatible CHAP platform. handles CLI creation, data loading, validation, prediction format conversion.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"CHAP R SDK","text":"can install development version chap.r.sdk GitHub:","code":"# install.packages(\"remotes\") remotes::install_github(\"knutdrand/chap_r_sdk\")"},{"path":"https://knutdrand.github.io/chap_r_sdk/index.html","id":"building-your-first-chap-model","dir":"","previous_headings":"","what":"Building Your First CHAP Model","title":"CHAP R SDK","text":"tutorial walks building CHAP-compatible model step--step, using validation-first approach.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/index.html","id":"setup","dir":"","previous_headings":"Building Your First CHAP Model","what":"Setup","title":"CHAP R SDK","text":"","code":"library(chap.r.sdk) library(dplyr) #>  #> Attaching package: 'dplyr' #> The following objects are masked from 'package:stats': #>  #>     filter, lag #> The following objects are masked from 'package:base': #>  #>     intersect, setdiff, setequal, union"},{"path":"https://knutdrand.github.io/chap_r_sdk/index.html","id":"step-1-understand-the-function-interface","dir":"","previous_headings":"Building Your First CHAP Model","what":"Step 1: Understand the Function Interface","title":"CHAP R SDK","text":"Every CHAP model requires two functions: Training function: Prediction function:","code":"train_fn <- function(training_data, model_configuration = list()) {   # training_data: tsibble with time_period index, location key,   #                disease_cases, and covariates   # model_configuration: optional list of parameters   # Returns: any model object (list, fitted model, etc.) } predict_fn <- function(historic_data, future_data, saved_model,                        model_configuration = list()) {   # historic_data: tsibble with historical observations   # future_data: tsibble with time periods to predict   # saved_model: the object returned by train_fn   # Returns: tibble with samples list-column containing numeric vectors   #   - For deterministic models: single sample per row (e.g., samples = list(c(42)))   #   - For probabilistic models: multiple samples per row (e.g., 1000 samples) }"},{"path":"https://knutdrand.github.io/chap_r_sdk/index.html","id":"step-2-explore-the-example-data","dir":"","previous_headings":"Building Your First CHAP Model","what":"Step 2: Explore the Example Data","title":"CHAP R SDK","text":"SDK provides example datasets testing. Let’s examine Laos monthly data: example data contains four tsibbles. time_period index location key: Training data - model learns : Future data - time periods predict (disease_cases): Example predictions - model output: predictions tibble samples list-column element numeric vector. Let’s look structure: probabilistic models, vector contains multiple Monte Carlo samples (e.g., 1000). deterministic models, use single sample per row: samples = list(c(42)).","code":"data <- get_example_data('laos', 'M') #> New names: #> Registered S3 method overwritten by 'tsibble': method from as_tibble.grouped_df #> dplyr #> New names: #> New names: #> • `` -> `...1` names(data) #> [1] \"training_data\" \"historic_data\" \"future_data\"   \"predictions\" data$training_data #> # A tsibble: 1,071 x 13 [1M] #> # Key:       location [7] #>     ...1 time_period rainfall mean_temperature disease_cases population parent #>    <dbl>       <mth>    <dbl>            <dbl>         <dbl>      <dbl> <chr>  #>  1     0    2000 Jul   430.               23.4             0     58503. -      #>  2     1    2000 Aug   322.               23.8             0     58503. -      #>  3     2    2000 Sep   265.               22.7             0     58503. -      #>  4     3    2000 Oct   103.               22.6             0     58503. -      #>  5     4    2000 Nov    19.7              20.3             0     58503. -      #>  6     5    2000 Dec    26.0              19.1             0     58503. -      #>  7     6    2001 Jan    17.6              19.8             0     60157. -      #>  8     7    2001 Feb     7.28             22.0             0     60157. -      #>  9     8    2001 Mar   123.               22.6             0     60157. -      #> 10     9    2001 Apr    29.6              27.5             0     60157. -      #> # ℹ 1,061 more rows #> # ℹ 6 more variables: location <chr>, Cases <dbl>, E <dbl>, month <dbl>, #> #   ID_year <dbl>, ID_spat <chr> data$future_data #> # A tsibble: 21 x 11 [1M] #> # Key:       location [7] #>     ...1 time_period rainfall mean_temperature population parent location      E #>    <dbl>       <mth>    <dbl>            <dbl>      <dbl> <chr>  <chr>     <dbl> #>  1     0    2013 Apr     39.5             26.8     80014. -      Bokeo    8.00e4 #>  2     1    2013 May    170.              25.8     80014. -      Bokeo    8.00e4 #>  3     2    2013 Jun    231.              24.7     80014. -      Bokeo    8.00e4 #>  4     0    2013 Apr    152.              27.2    731598. -      Champas… 7.32e5 #>  5     1    2013 May    236.              26.3    731598. -      Champas… 7.32e5 #>  6     2    2013 Jun    327.              25.1    731598. -      Champas… 7.32e5 #>  7     0    2013 Apr     58.8             25.1    124396. -      LouangN… 1.24e5 #>  8     1    2013 May    162.              24.7    124396. -      LouangN… 1.24e5 #>  9     2    2013 Jun    184.              24.0    124396. -      LouangN… 1.24e5 #> 10     0    2013 Apr     72.5             25.0    282683. -      Oudomxai 2.83e5 #> # ℹ 11 more rows #> # ℹ 3 more variables: month <dbl>, ID_year <dbl>, ID_spat <chr> data$predictions #> # A tibble: 21 × 3 #>    time_period location     samples       #>    <chr>       <chr>        <list>        #>  1 2013-04     Bokeo        <dbl [1,000]> #>  2 2013-05     Bokeo        <dbl [1,000]> #>  3 2013-06     Bokeo        <dbl [1,000]> #>  4 2013-04     Champasak    <dbl [1,000]> #>  5 2013-05     Champasak    <dbl [1,000]> #>  6 2013-06     Champasak    <dbl [1,000]> #>  7 2013-04     LouangNamtha <dbl [1,000]> #>  8 2013-05     LouangNamtha <dbl [1,000]> #>  9 2013-06     LouangNamtha <dbl [1,000]> #> 10 2013-04     Oudomxai     <dbl [1,000]> #> # ℹ 11 more rows # Each row has a vector of samples data$predictions$samples[[1]] #>    [1] 15  7  3  9  7 19  2  2 11  5  5  3  9 24  0 18  4  3  6 62  3  0  4  4 #>   [25] 13  0 44  2  4 19  1  5  3 27  5  0  1  4  7  5  3 11  7 17 16  3 10  1 #>   [49] 12  2  0  4  4  2 20  4  7  3  8 11  5  3 16 22  9  7  3  3  0  2  4 12 #>   [73]  9  6  3  6  4 12  2  0  6  8 16  5 14  3  0 10  5 10  5  1  0  1  0  3 #>   [97]  3  6  4  1  0  3 18 13  6  9  9 19  7  8  1  5 13  3  8 18  1 19  0 23 #>  [121]  4 30  2  2 11  0  0  5  7  0  7 10  4  1  8  4 13  1 21 11  1  9 13  3 #>  [145] 14  4  2 28 17  1  7  7  9 19 12  3  2  4  6  4  3  0  0  9  0  7  6  4 #>  [169]  6  3 17 11  8 15  3  5  3 13 18  4  0 11  2 48  7  5 26  5  5  3  5  2 #>  [193]  4  4 16  9 15  9  6  2  2 10  7  7  3  8 11 17  6  6 10  0  8  6  4 27 #>  [217]  1 37  0  2  0 14  1 29  8  1 16  9  2  9  6  6  7 10  5 28 15  1  7  1 #>  [241]  1 17 12  3  6  8 10 35 22  7  2  0 13  4  1  6 20  3  1  7  1  7 11  4 #>  [265] 37  1 13  2 31  1 47  6  1  0  3  1  0 11  8 12  1  7  4  5  3 16  7 14 #>  [289]  2 15  1  7  1  2 13  2 10  3  2 10  0  1 17  5  1  2  1 17 23  2  8  2 #>  [313]  7  2  2  4  1  3  5  6  0  1 11  4  4  7 22  7 10  7 10 12 31 10  1  2 #>  [337] 16  0 11  2  0  0  6 18  1  2  6  0  3  1  3 23 15  9  0  1 21 14  0  4 #>  [361]  1  2 17  5 25  0 14  3 13  0  0  8  3 14  3  3  2  7  7  2  3  3  2 12 #>  [385]  2  5  8  8 14 12 11  9  1  3 26  5  9 12  3  8 15  0  5  2 10  8  6  3 #>  [409] 15  3  3  3 13 27  0  5 11  4  5  6  3  4  6 28  5 11  4  0  0  0  1  1 #>  [433] 11 29  0  6  1 10  8  5  1  2  0  4  1 13  9  5  6  0 11  1  9 18  7  8 #>  [457]  3  0  2 10  3  5 10  1 16 74  3  2  1 14  1  2  0  0  6  3 12  7  6 10 #>  [481] 10  9  3  6  4 16  0  2  2  1 16  9  6  2  7  3 10 10  1  3  2  6  8  6 #>  [505] 13  2 18  3  2  0 40  1  7  4  5  2 10  2  2 16  4  0 10  7  5 12 15  3 #>  [529] 11 10  2  0  4  1  2 18  0  0 12  4  2  3 10 13  6 17 17  7 19  4  5  2 #>  [553]  7 31  0 14  1  5  8 11 14 40 19  5  0  5  5  9  0 20  0  4  2  1  3 18 #>  [577]  0  1  1 22  0 24  7  0  3 10 21 12 15  7  0  0  2 14  0  4 29 25  5  7 #>  [601]  2  0  5  2  2  3  1  2 10  1 10  4  3  7  1 15  5  6  6 25  2  2  5 52 #>  [625]  1  7  1 23  8  4  3 17  9 10  6  6 10  9  6  0  1  4  0 17  2  7 49  7 #>  [649]  8  8  1 12 45  1  9  1  2  4  0  2 10 10  0  3 22  2  4 16  8  0  3  8 #>  [673]  4 11  8  7  2  7 19  7  5 13  3 11  2  2 23  7  2  8  2 17  4  1  2  4 #>  [697]  0 11  8  0  8  8  3  5  6  7  7  1  1  9  7 13  5 12 10 17  8  2  2  5 #>  [721]  8  0  0  2 15 14  6  4  5 29 13  9  3  3 16  2  2  7  2  1  7  1  0 26 #>  [745]  7  2  4  0  5 11  4 12  8  0 11  1  1  3  2 12  3  3  1 10 12  7  2 15 #>  [769]  4  2  3  1  5  2  1  5  1 11 17  2  2  3  7  5 23  9 14  0 27 35  0  2 #>  [793]  1  0  2  3  1 10  6  5  0 13 16  4 11  1  5  0  1  1  3  3 14  4  5 16 #>  [817]  7  4 10  0  6  1 22 14 12  0  1  5  0  1 40 11  4  8  0  4  9  3  8  1 #>  [841]  5  9  6 13  0  5 22  1  7  2  7  6  3  2  5  3  5  6  6  2  2  5  0  1 #>  [865]  4  4  4 15 60  5  5 14  6 14 12  3 22  7  3  5  7 10  4 35 11 17 17  4 #>  [889] 11  4 12  7 21 30  8  2 21  6 17  9  4 24 11  0  3 28 14  3  3  4  1  9 #>  [913] 30 10 10  7  5  4  2  1 10 13 12  9  3 13  1  1 13  4  8 11  1  8  8  2 #>  [937] 11  5 17  2 12  0  3 13  8  7  2  3  4 17  2  3  4  4  4 16  4  3  8 10 #>  [961]  0  4  2  5  3  1  4  2  3  4  5  3  4 12 14  3  4 15  2  3 23  7 13  5 #>  [985]  4 13 17  0 11 13 15  6 11  1 20 23  2 12 11  2"},{"path":"https://knutdrand.github.io/chap_r_sdk/index.html","id":"step-3-validate-before-implementing","dir":"","previous_headings":"Building Your First CHAP Model","what":"Step 3: Validate Before Implementing","title":"CHAP R SDK","text":"writing model logic, let’s see validation expects. Start stub functions: validation tells us exactly ’s missing: samples list-column predictions.","code":"train_fn <- function(training_data, model_configuration = list()) {   list(dummy = 1) }  predict_fn <- function(historic_data, future_data, saved_model,                        model_configuration = list()) {   future_data }  result <- validate_model_io(train_fn, predict_fn, data) result$success #> [1] FALSE result$errors #> [1] \"Predictions must have a 'samples' list-column containing numeric vectors\""},{"path":"https://knutdrand.github.io/chap_r_sdk/index.html","id":"step-4-implement-a-simple-mean-model","dir":"","previous_headings":"Building Your First CHAP Model","what":"Step 4: Implement a Simple Mean Model","title":"CHAP R SDK","text":"Now let’s implement minimal model predicts historical mean location. Since models must return samples list-column, wrap single prediction value list: Note: use as_tibble() training function summarise(.= ...) needs tibble collapse across time dimension.","code":"train_fn <- function(training_data, model_configuration = list()) {   means <- training_data |>     as_tibble() |>     summarise(mean_cases = mean(disease_cases, na.rm = TRUE), .by = location)   list(means = means) }  predict_fn <- function(historic_data, future_data, saved_model,                        model_configuration = list()) {   future_data |>     left_join(saved_model$means, by = \"location\") |>     mutate(samples = purrr::map(mean_cases, ~c(.x))) |>     select(-mean_cases) }"},{"path":"https://knutdrand.github.io/chap_r_sdk/index.html","id":"step-5-validate-the-implementation","dir":"","previous_headings":"Building Your First CHAP Model","what":"Step 5: Validate the Implementation","title":"CHAP R SDK","text":"","code":"result <- validate_model_io(train_fn, predict_fn, data) result$success #> [1] TRUE result$n_predictions #> [1] 21"},{"path":"https://knutdrand.github.io/chap_r_sdk/index.html","id":"step-6-create-the-cli","dir":"","previous_headings":"Building Your First CHAP Model","what":"Step 6: Create the CLI","title":"CHAP R SDK","text":"validation passes, wrap model CLI. Create file called model.R: Usage: CLI automatically handles CSV loading, tsibble conversion, model saving, prediction output.","code":"library(chap.r.sdk) library(dplyr)  train_fn <- function(training_data, model_configuration = list()) {   means <- training_data |>     as_tibble() |>     summarise(mean_cases = mean(disease_cases, na.rm = TRUE), .by = location)   list(means = means) }  predict_fn <- function(historic_data, future_data, saved_model,                        model_configuration = list()) {   future_data |>     left_join(saved_model$means, by = \"location\") |>     mutate(samples = purrr::map(mean_cases, ~c(.x))) |>     select(-mean_cases) }  if (!interactive()) {   create_chap_cli(train_fn, predict_fn) } # Train the model Rscript model.R train training_data.csv  # Generate predictions Rscript model.R predict historic.csv future.csv model.rds  # Display model info Rscript model.R info"},{"path":"https://knutdrand.github.io/chap_r_sdk/index.html","id":"probabilistic-models","dir":"","previous_headings":"","what":"Probabilistic Models","title":"CHAP R SDK","text":"probabilistic forecasting, include multiple Monte Carlo samples:","code":"predict_fn <- function(historic_data, future_data, saved_model,                        model_configuration = list()) {   n_samples <- 1000    future_data |>     left_join(saved_model$means, by = \"location\") |>     rowwise() |>     mutate(       samples = list(rpois(n_samples, lambda = mean_cases))     ) |>     ungroup() |>     select(-mean_cases) }"},{"path":"https://knutdrand.github.io/chap_r_sdk/index.html","id":"working-with-samples","dir":"","previous_headings":"","what":"Working with Samples","title":"CHAP R SDK","text":"SDK provides utility functions sample-based predictions:","code":"# Convert nested samples to wide format wide_preds <- predictions_to_wide(nested_preds)  # Convert to long format for scoringutils long_preds <- predictions_to_long(nested_preds)  # Compute quantiles for hub submissions quantile_preds <- predictions_to_quantiles(nested_preds)  # Add summary statistics (mean, median, CIs) preds_with_summary <- predictions_summary(nested_preds)"},{"path":"https://knutdrand.github.io/chap_r_sdk/index.html","id":"learn-more","dir":"","previous_headings":"","what":"Learn More","title":"CHAP R SDK","text":"Full documentation Model development tutorial Function reference","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/aggregate_spatial.html","id":null,"dir":"Reference","previous_headings":"","what":"Aggregate Spatial Data — aggregate_spatial","title":"Aggregate Spatial Data — aggregate_spatial","text":"Aggregates spatial data coarser resolution different spatial unit","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/aggregate_spatial.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Aggregate Spatial Data — aggregate_spatial","text":"","code":"aggregate_spatial(data, method = \"mean\", spatial_units)"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/aggregate_spatial.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Aggregate Spatial Data — aggregate_spatial","text":"data data frame containing spatial data method Aggregation method (e.g., \"sum\", \"mean\", \"weighted_mean\") spatial_units target spatial units aggregation","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/aggregate_spatial.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Aggregate Spatial Data — aggregate_spatial","text":"Aggregated spatial data","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/aggregate_spatial.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Aggregate Spatial Data — aggregate_spatial","text":"","code":"if (FALSE) { # \\dontrun{ aggregated <- aggregate_spatial(data, \"mean\", target_units) } # }"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/aggregate_temporal.html","id":null,"dir":"Reference","previous_headings":"","what":"Aggregate Temporal Data — aggregate_temporal","title":"Aggregate Temporal Data — aggregate_temporal","text":"Aggregates temporal data coarser time resolution","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/aggregate_temporal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Aggregate Temporal Data — aggregate_temporal","text":"","code":"aggregate_temporal(data, method = \"sum\", time_unit)"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/aggregate_temporal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Aggregate Temporal Data — aggregate_temporal","text":"data data frame containing temporal data method Aggregation method (e.g., \"sum\", \"mean\") time_unit target time unit aggregation (e.g., \"week\", \"month\")","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/aggregate_temporal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Aggregate Temporal Data — aggregate_temporal","text":"Aggregated temporal data","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/aggregate_temporal.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Aggregate Temporal Data — aggregate_temporal","text":"","code":"if (FALSE) { # \\dontrun{ aggregated <- aggregate_temporal(data, \"sum\", \"week\") } # }"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/chap.r.sdk-package.html","id":null,"dir":"Reference","previous_headings":"","what":"chap.r.sdk: Chap SDK for R — chap.r.sdk-package","title":"chap.r.sdk: Chap SDK for R — chap.r.sdk-package","text":"Provides convenience functionality developing chap-compatible models integrating existing models chap. Includes utilities creating command line interfaces, model validation, spatio-temporal data transformations, configuration schema management.","code":""},{"path":[]},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/chap.r.sdk-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"chap.r.sdk: Chap SDK for R — chap.r.sdk-package","text":"Maintainer: Knut Rand knutdrand@gmail.com","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/cli_utils.html","id":null,"dir":"Reference","previous_headings":"","what":"CLI Utility Functions — cli_utils","title":"CLI Utility Functions — cli_utils","text":"Internal utility functions unified CHAP CLI infrastructure. functions handle file /O, data parsing, format conversion automatically model developers can focus business logic.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/convert_time_column.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert time column to appropriate temporal type — convert_time_column","title":"Convert time column to appropriate temporal type — convert_time_column","text":"Converts time column character appropriate tsibble temporal type. Supports yearmonth (YYYY-MM), yearweek (YYYY-Www), yearquarter (YYYY-Qq), Date formats.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/convert_time_column.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert time column to appropriate temporal type — convert_time_column","text":"","code":"convert_time_column(df, time_col)"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/convert_time_column.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert time column to appropriate temporal type — convert_time_column","text":"df Data frame containing time column time_col Name time column convert","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/convert_time_column.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert time column to appropriate temporal type — convert_time_column","text":"Data frame converted time column","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/create_chap_cli.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Unified CHAP CLI — create_chap_cli","title":"Create Unified CHAP CLI — create_chap_cli","text":"Creates unified command-line interface training prediction. Automatically handles file /O, parsing, conversion. Model functions receive loaded tsibbles configuration lists, file paths.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/create_chap_cli.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Unified CHAP CLI — create_chap_cli","text":"","code":"create_chap_cli(   train_fn,   predict_fn,   model_config_schema = NULL,   args = commandArgs(trailingOnly = TRUE) )"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/create_chap_cli.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Unified CHAP CLI — create_chap_cli","text":"train_fn Training function signature: function(training_data, model_configuration = list()) training_data tsibble model_configuration list. return model object automatically saved RDS. predict_fn Prediction function signature: function(historic_data, future_data, saved_model, model_configuration = list()) data inputs tsibbles, saved_model loaded object, model_configuration list. Must return tibble samples list-column containing numeric vectors. deterministic models, use single sample per forecast unit (e.g., samples = list(c(42))). probabilistic models, include multiple Monte Carlo samples. CLI automatically converts nested samples wide CSV format (sample_0, sample_1, ...) CHAP. Important: historic_data may contain recent observations original training data. CHAP may call predict updated data model trained. time series models, typically refit model historic_data forecasting. Use saved_model store model hyperparameters structure persist across predictions, rather fitted model . See examples/arima_model/ demonstration pattern using fable::refit(). model_config_schema Optional model configuration schema (reserved future use). Can used \"info\" subcommand display schema information. args Command line arguments (defaults commandArgs(trailingOnly = TRUE))","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/create_chap_cli.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Unified CHAP CLI — create_chap_cli","text":"Invisible result called function","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/create_chap_cli.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create Unified CHAP CLI — create_chap_cli","text":"standard way create CHAP-compatible CLI scripts, providing single unified interface subcommand dispatch.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/create_chap_cli.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Unified CHAP CLI — create_chap_cli","text":"","code":"if (FALSE) { # \\dontrun{ # In model.R file: library(chap.r.sdk) library(dplyr)  train_my_model <- function(training_data, model_configuration = list()) {   # training_data is already a tsibble - no file I/O needed!   means <- training_data |>     group_by(location) |>     summarise(mean_cases = mean(disease_cases, na.rm = TRUE))   return(list(means = means)) }  predict_my_model <- function(historic_data, future_data, saved_model,                               model_configuration = list()) {   # All inputs are already loaded - no file I/O needed!   # Return samples list-column (single sample for deterministic model)   future_data |>     as_tibble() |>     left_join(saved_model$means, by = \"location\") |>     mutate(samples = purrr::map(mean_cases, ~c(.x))) |>     select(-mean_cases) }  config_schema <- list(   title = \"My Model Configuration\",   type = \"object\",   properties = list() )  # Single function call enables full CLI! if (!interactive()) {   create_chap_cli(train_my_model, predict_my_model, config_schema) }  # Command line usage: # Rscript model.R train data.csv [config.yaml] # Rscript model.R predict historic.csv future.csv model.rds [config.yaml] # Rscript model.R info } # }"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/create_config_schema.html","id":null,"dir":"Reference","previous_headings":"","what":"Expose Model Configuration Schema — create_config_schema","title":"Expose Model Configuration Schema — create_config_schema","text":"Generates exposes model configuration schema format can consumed chap","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/create_config_schema.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Expose Model Configuration Schema — create_config_schema","text":"","code":"create_config_schema(config_definition, output_format = \"json\")"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/create_config_schema.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Expose Model Configuration Schema — create_config_schema","text":"config_definition list object defining configuration schema output_format format schema (default: \"json\")","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/create_config_schema.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Expose Model Configuration Schema — create_config_schema","text":"configuration schema specified format","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/create_config_schema.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Expose Model Configuration Schema — create_config_schema","text":"","code":"if (FALSE) { # \\dontrun{ schema <- create_config_schema(config_definition) } # }"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/detect_key_columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect key columns (spatial identifiers) — detect_key_columns","title":"Detect key columns (spatial identifiers) — detect_key_columns","text":"Searches common spatial identifier column names data frame. Returns NULL key columns found (univariate time series).","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/detect_key_columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect key columns (spatial identifiers) — detect_key_columns","text":"","code":"detect_key_columns(df)"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/detect_key_columns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Detect key columns (spatial identifiers) — detect_key_columns","text":"df Data frame search","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/detect_key_columns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Detect key columns (spatial identifiers) — detect_key_columns","text":"Character vector key column names, NULL none found","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/detect_prediction_format.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect Prediction Sample Format — detect_prediction_format","title":"Detect Prediction Sample Format — detect_prediction_format","text":"Detects format prediction samples data frame.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/detect_prediction_format.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect Prediction Sample Format — detect_prediction_format","text":"","code":"detect_prediction_format(df)"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/detect_prediction_format.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Detect Prediction Sample Format — detect_prediction_format","text":"df data frame check","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/detect_prediction_format.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Detect Prediction Sample Format — detect_prediction_format","text":"Character string: \"nested\", \"wide\", \"long\", \"none\"","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/detect_prediction_format.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Detect Prediction Sample Format — detect_prediction_format","text":"","code":"if (FALSE) { # \\dontrun{ format <- detect_prediction_format(preds) if (format == \"wide\") {   preds <- predictions_from_wide(preds) } } # }"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/detect_time_column.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect time column in data frame — detect_time_column","title":"Detect time column in data frame — detect_time_column","text":"Searches common time column names data frame. Falls back first column standard names found.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/detect_time_column.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect time column in data frame — detect_time_column","text":"","code":"detect_time_column(df)"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/detect_time_column.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Detect time column in data frame — detect_time_column","text":"df Data frame search","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/detect_time_column.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Detect time column in data frame — detect_time_column","text":"Name detected time column","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/get_config_param.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Configuration Parameter — get_config_param","title":"Get Configuration Parameter — get_config_param","text":"Safely extracts parameter configuration default fallback","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/get_config_param.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Configuration Parameter — get_config_param","text":"","code":"get_config_param(config, ..., .default = NULL)"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/get_config_param.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Configuration Parameter — get_config_param","text":"config Configuration list ... Path parameter (passed purrr::pluck) .default Default value parameter found","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/get_config_param.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Configuration Parameter — get_config_param","text":"Parameter value default","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/get_config_param.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Configuration Parameter — get_config_param","text":"","code":"# Simple nested parameter extraction config <- list(model = list(params = list(lr = 0.01))) lr <- get_config_param(config, \"model\", \"params\", \"lr\", .default = 0.001) print(lr)  # 0.01 #> [1] 0.01  # With default fallback missing <- get_config_param(config, \"model\", \"missing\", .default = \"default\") print(missing)  # \"default\" #> [1] \"default\"  # Deep nesting complex_config <- list(   training = list(     optimizer = list(       type = \"adam\",       params = list(lr = 0.001, beta1 = 0.9)     )   ) ) beta1 <- get_config_param(complex_config, \"training\", \"optimizer\", \"params\", \"beta1\") print(beta1)  # 0.9 #> [1] 0.9"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/get_example_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Example Data for Testing — get_example_data","title":"Get Example Data for Testing — get_example_data","text":"Returns example datasets testing validating CHAP models. Currently supports Laos monthly data.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/get_example_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Example Data for Testing — get_example_data","text":"","code":"get_example_data(country, frequency)"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/get_example_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Example Data for Testing — get_example_data","text":"country Character string specifying country. Currently 'laos' supported. frequency Character string specifying temporal frequency. Currently 'M' (monthly) supported.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/get_example_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Example Data for Testing — get_example_data","text":"named list containing four elements: training_data: tsibble historical data training model historic_data: tsibble historical data making predictions future_data: tsibble future time periods prediction predictions: tibble example prediction output. predictions contain sample columns (sample_0, sample_1, ...), converted nested list-column format samples column containing numeric vectors.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/get_example_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Example Data for Testing — get_example_data","text":"","code":"if (FALSE) { # \\dontrun{ data <- get_example_data('laos', 'M') model <- train_fn(data$training_data) preds <- predict_fn(data$historic_data, data$future_data, model)  # If predictions have samples, access them like this: data$predictions$samples[[1]]  # Samples for first forecast unit } # }"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/handle_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Handle info subcommand — handle_info","title":"Handle info subcommand — handle_info","text":"Internal function handles \"info\" subcommand create_chap_cli(). Displays model information configuration schema provided.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/handle_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Handle info subcommand — handle_info","text":"","code":"handle_info(model_config_schema)"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/handle_info.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Handle info subcommand — handle_info","text":"model_config_schema Optional configuration schema display","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/handle_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Handle info subcommand — handle_info","text":"NULL (invisibly)","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/handle_predict.html","id":null,"dir":"Reference","previous_headings":"","what":"Handle predict subcommand — handle_predict","title":"Handle predict subcommand — handle_predict","text":"Internal function handles \"predict\" subcommand create_chap_cli(). Loads historic data, future data, saved model, configuration, calls prediction function, saves resulting predictions.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/handle_predict.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Handle predict subcommand — handle_predict","text":"","code":"handle_predict(predict_fn, args)"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/handle_predict.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Handle predict subcommand — handle_predict","text":"predict_fn User-provided prediction function args Subcommand arguments (historic_data, future_data, saved_model, optional config)","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/handle_predict.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Handle predict subcommand — handle_predict","text":"Path saved predictions file","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/handle_train.html","id":null,"dir":"Reference","previous_headings":"","what":"Handle train subcommand — handle_train","title":"Handle train subcommand — handle_train","text":"Internal function handles \"train\" subcommand create_chap_cli(). Loads training data, parses configuration, calls training function, saves resulting model.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/handle_train.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Handle train subcommand — handle_train","text":"","code":"handle_train(train_fn, args)"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/handle_train.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Handle train subcommand — handle_train","text":"train_fn User-provided training function args Subcommand arguments (training_data path optional config path)","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/handle_train.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Handle train subcommand — handle_train","text":"Path saved model file","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/has_prediction_samples.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if Predictions Have Samples — has_prediction_samples","title":"Check if Predictions Have Samples — has_prediction_samples","text":"Checks whether predictions data frame contains sample data (either nested wide format).","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/has_prediction_samples.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if Predictions Have Samples — has_prediction_samples","text":"","code":"has_prediction_samples(df)"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/has_prediction_samples.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if Predictions Have Samples — has_prediction_samples","text":"df data frame check","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/has_prediction_samples.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if Predictions Have Samples — has_prediction_samples","text":"Logical indicating whether samples present","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/has_prediction_samples.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check if Predictions Have Samples — has_prediction_samples","text":"","code":"if (FALSE) { # \\dontrun{ if (has_prediction_samples(preds)) {   preds <- predictions_to_wide(preds) } } # }"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/load_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Load and parse configuration file — load_config","title":"Load and parse configuration file — load_config","text":"Loads YAML configuration file exists valid. Returns empty list path NULL, empty, file exist.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/load_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load and parse configuration file — load_config","text":"","code":"load_config(config_path)"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/load_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load and parse configuration file — load_config","text":"config_path Path YAML configuration file (can NULL empty string)","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/load_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load and parse configuration file — load_config","text":"Parsed configuration list, empty list config","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/load_predictions.html","id":null,"dir":"Reference","previous_headings":"","what":"Load predictions from CSV — load_predictions","title":"Load predictions from CSV — load_predictions","text":"Loads predictions CSV file optionally converts wide sample format nested list-column format easier manipulation.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/load_predictions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load predictions from CSV — load_predictions","text":"","code":"load_predictions(file_path, convert_samples = TRUE)"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/load_predictions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load predictions from CSV — load_predictions","text":"file_path Path predictions CSV file convert_samples Whether convert wide sample columns nested format (default: TRUE)","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/load_predictions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load predictions from CSV — load_predictions","text":"tibble predictions. convert_samples TRUE sample columns detected, returns nested format 'samples' list-column.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/load_tsibble.html","id":null,"dir":"Reference","previous_headings":"","what":"Load CSV and convert to tsibble — load_tsibble","title":"Load CSV and convert to tsibble — load_tsibble","text":"Automatically loads CSV file converts tsibble detecting time index column spatial key columns.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/load_tsibble.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load CSV and convert to tsibble — load_tsibble","text":"","code":"load_tsibble(file_path)"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/load_tsibble.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load CSV and convert to tsibble — load_tsibble","text":"file_path Path CSV file load","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/load_tsibble.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load CSV and convert to tsibble — load_tsibble","text":"tsibble object auto-detected index key columns","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predict_mean_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Predict using mean model — predict_mean_model","title":"Predict using mean model — predict_mean_model","text":"Generates predictions returning mean disease cases location","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predict_mean_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Predict using mean model — predict_mean_model","text":"","code":"predict_mean_model(historic_data, future_data, model, model_config = list())"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predict_mean_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Predict using mean model — predict_mean_model","text":"historic_data tsibble historical data (used mean model, kept interface consistency) future_data tsibble future time periods locations predict model trained model object train_mean_model() model_config list containing model configuration options (optional)","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predict_mean_model.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Predict using mean model — predict_mean_model","text":"tsibble columns: time_period, location, disease_cases (predicted)","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions.html","id":null,"dir":"Reference","previous_headings":"","what":"Prediction Samples Format Conversion — predictions","title":"Prediction Samples Format Conversion — predictions","text":"Functions converting different prediction sample formats. SDK uses nested list-column format internally efficiency, converters /wide (CHAP CSV), long (scoringutils), quantile formats.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_from_long.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert Long Format to Nested Format — predictions_from_long","title":"Convert Long Format to Nested Format — predictions_from_long","text":"Converts predictions long format (one row per sample) nested list-column format. useful importing data scoringutils tools use long format.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_from_long.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert Long Format to Nested Format — predictions_from_long","text":"","code":"predictions_from_long(   long_df,   value_col = \"prediction\",   sample_col = \"sample_id\",   group_cols = c(\"time_period\", \"location\") )"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_from_long.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert Long Format to Nested Format — predictions_from_long","text":"long_df data frame long format sample_id prediction columns value_col Name prediction value column (default: \"prediction\") sample_col Name sample ID column (default: \"sample_id\") group_cols Columns define forecast units (default: c(\"time_period\", \"location\"))","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_from_long.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert Long Format to Nested Format — predictions_from_long","text":"tibble nested samples list-column","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_from_long.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert Long Format to Nested Format — predictions_from_long","text":"","code":"if (FALSE) { # \\dontrun{ # Import long format data nested_preds <- predictions_from_long(long_df) } # }"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_from_wide.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert Wide Format Predictions to Nested Format — predictions_from_wide","title":"Convert Wide Format Predictions to Nested Format — predictions_from_wide","text":"Converts predictions CHAP wide CSV format (one column per sample) nested list-column format (one row per forecast unit samples stored numeric vector list-column).","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_from_wide.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert Wide Format Predictions to Nested Format — predictions_from_wide","text":"","code":"predictions_from_wide(wide_df)"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_from_wide.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert Wide Format Predictions to Nested Format — predictions_from_wide","text":"wide_df data frame columns: time_period, location, sample columns (sample_0, sample_1, ..., sample_N)","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_from_wide.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert Wide Format Predictions to Nested Format — predictions_from_wide","text":"tibble columns: time_period, location, samples (list-column containing numeric vectors samples)","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_from_wide.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert Wide Format Predictions to Nested Format — predictions_from_wide","text":"","code":"if (FALSE) { # \\dontrun{ # Load wide format predictions wide_preds <- read.csv(\"predictions.csv\") nested_preds <- predictions_from_wide(wide_preds)  # Access samples for first forecast unit nested_preds$samples[[1]] } # }"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Add Summary Statistics to Predictions — predictions_summary","title":"Add Summary Statistics to Predictions — predictions_summary","text":"Adds common summary statistics (mean, median, confidence intervals) nested predictions tibble.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add Summary Statistics to Predictions — predictions_summary","text":"","code":"predictions_summary(nested_df, ci_levels = c(0.5, 0.9, 0.95))"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add Summary Statistics to Predictions — predictions_summary","text":"nested_df tibble 'samples' list-column ci_levels Confidence interval levels (default: c(0.5, 0.9, 0.95))","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add Summary Statistics to Predictions — predictions_summary","text":"input tibble additional columns: mean, median, lower/upper bounds CI level (e.g., lower_50, upper_50)","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add Summary Statistics to Predictions — predictions_summary","text":"","code":"if (FALSE) { # \\dontrun{ # Add summary statistics preds_with_summary <- predictions_summary(nested_preds)  # View mean predictions preds_with_summary$mean } # }"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_to_long.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert Nested Format to Long Format — predictions_to_long","title":"Convert Nested Format to Long Format — predictions_to_long","text":"Converts predictions nested list-column format long format suitable use scoringutils analysis tools. sample becomes separate row.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_to_long.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert Nested Format to Long Format — predictions_to_long","text":"","code":"predictions_to_long(nested_df, value_col = \"prediction\")"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_to_long.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert Nested Format to Long Format — predictions_to_long","text":"nested_df tibble 'samples' list-column value_col Name prediction value column (default: \"prediction\")","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_to_long.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert Nested Format to Long Format — predictions_to_long","text":"tibble long format columns: time_period, location, sample_id, prediction value column","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_to_long.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert Nested Format to Long Format — predictions_to_long","text":"","code":"if (FALSE) { # \\dontrun{ # Convert to long format for scoringutils long_preds <- predictions_to_long(nested_preds)  # Use with scoringutils scoringutils::score(long_preds, ...) } # }"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_to_quantiles.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Quantiles from Prediction Samples — predictions_to_quantiles","title":"Compute Quantiles from Prediction Samples — predictions_to_quantiles","text":"Converts predictions nested format quantile format suitable forecast hub submissions. Computes specified quantiles sample distribution.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_to_quantiles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Quantiles from Prediction Samples — predictions_to_quantiles","text":"","code":"predictions_to_quantiles(   nested_df,   probs = c(0.01, 0.025, 0.05, 0.1, 0.15, 0.2, 0.25, 0.3, 0.35, 0.4, 0.45, 0.5, 0.55,     0.6, 0.65, 0.7, 0.75, 0.8, 0.85, 0.9, 0.95, 0.975, 0.99) )"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_to_quantiles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute Quantiles from Prediction Samples — predictions_to_quantiles","text":"nested_df tibble 'samples' list-column probs Numeric vector quantile probabilities (default: standard hub quantiles 0.01 0.99)","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_to_quantiles.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute Quantiles from Prediction Samples — predictions_to_quantiles","text":"tibble long format columns: time_period, location, quantile, value","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_to_quantiles.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute Quantiles from Prediction Samples — predictions_to_quantiles","text":"","code":"if (FALSE) { # \\dontrun{ # Compute standard quantiles quantile_preds <- predictions_to_quantiles(nested_preds)  # Compute specific quantiles quantile_preds <- predictions_to_quantiles(   nested_preds,   probs = c(0.025, 0.25, 0.5, 0.75, 0.975) ) } # }"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_to_wide.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert Nested Format Predictions to Wide Format — predictions_to_wide","title":"Convert Nested Format Predictions to Wide Format — predictions_to_wide","text":"Converts predictions nested list-column format CHAP wide CSV format (one column per sample). format expected CHAP platform.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_to_wide.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert Nested Format Predictions to Wide Format — predictions_to_wide","text":"","code":"predictions_to_wide(nested_df)"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_to_wide.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert Nested Format Predictions to Wide Format — predictions_to_wide","text":"nested_df tibble 'samples' list-column containing numeric vectors samples","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_to_wide.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert Nested Format Predictions to Wide Format — predictions_to_wide","text":"data frame columns: time_period, location, sample_0, sample_1, ..., sample_N","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/predictions_to_wide.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert Nested Format Predictions to Wide Format — predictions_to_wide","text":"","code":"if (FALSE) { # \\dontrun{ # Convert nested predictions to wide format for CHAP wide_preds <- predictions_to_wide(nested_preds) write.csv(wide_preds, \"predictions.csv\", row.names = FALSE) } # }"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/read_model_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Read Model Configuration — read_model_config","title":"Read Model Configuration — read_model_config","text":"Reads YAML configuration file optionally validates schema","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/read_model_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read Model Configuration — read_model_config","text":"","code":"read_model_config(config_path, schema_path = NULL, validate = TRUE)"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/read_model_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read Model Configuration — read_model_config","text":"config_path Path YAML configuration file schema_path Path JSON schema file (optional) validate Logical, whether validate schema (default: TRUE)","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/read_model_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read Model Configuration — read_model_config","text":"List containing parsed configuration","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/read_model_config.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read Model Configuration — read_model_config","text":"","code":"if (FALSE) { # \\dontrun{ config <- read_model_config(\"model_config.yaml\") config <- read_model_config(\"model_config.yaml\", \"schema.json\", validate = TRUE) } # }"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/run_model_tests.html","id":null,"dir":"Reference","previous_headings":"","what":"Run Model Test Suite — run_model_tests","title":"Run Model Test Suite — run_model_tests","text":"Runs comprehensive test suite sanity check chap model","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/run_model_tests.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run Model Test Suite — run_model_tests","text":"","code":"run_model_tests(train_fn, predict_fn, test_data)"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/run_model_tests.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run Model Test Suite — run_model_tests","text":"train_fn training function test predict_fn prediction function test test_data Test dataset validation","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/run_model_tests.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run Model Test Suite — run_model_tests","text":"test results object pass/fail status details","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/run_model_tests.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run Model Test Suite — run_model_tests","text":"","code":"if (FALSE) { # \\dontrun{ run_model_tests(my_train, my_predict, test_data) } # }"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/save_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Save model to RDS file — save_model","title":"Save model to RDS file — save_model","text":"Saves trained model object RDS file status message.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/save_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Save model to RDS file — save_model","text":"","code":"save_model(model, output_path = \"model.rds\")"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/save_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Save model to RDS file — save_model","text":"model Model object save output_path Path output RDS file (default: \"model.rds\")","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/save_model.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Save model to RDS file — save_model","text":"Path saved model file","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/save_predictions.html","id":null,"dir":"Reference","previous_headings":"","what":"Save predictions to CSV — save_predictions","title":"Save predictions to CSV — save_predictions","text":"Saves prediction results CSV file status message. Predictions must samples list-column automatically converted wide format (sample_0, sample_1, ...) CHAP compatibility.","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/save_predictions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Save predictions to CSV — save_predictions","text":"","code":"save_predictions(predictions, output_path)"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/save_predictions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Save predictions to CSV — save_predictions","text":"predictions Predictions tibble samples list-column output_path Path output CSV file","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/save_predictions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Save predictions to CSV — save_predictions","text":"Path saved predictions file","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/train_mean_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Train a simple mean model — train_mean_model","title":"Train a simple mean model — train_mean_model","text":"Trains model predicts mean disease cases location","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/train_mean_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Train a simple mean model — train_mean_model","text":"","code":"train_mean_model(training_data, model_config = list())"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/train_mean_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Train a simple mean model — train_mean_model","text":"training_data tsibble columns: time_period, location, disease_cases, covariates model_config list containing model configuration options","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/train_mean_model.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Train a simple mean model — train_mean_model","text":"list containing trained model (mean values per location)","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/transform_spatiotemporal.html","id":null,"dir":"Reference","previous_headings":"","what":"Transform Spatio-Temporal Data — transform_spatiotemporal","title":"Transform Spatio-Temporal Data — transform_spatiotemporal","text":"Provides common transformations spatio-temporal data used chap models","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/transform_spatiotemporal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transform Spatio-Temporal Data — transform_spatiotemporal","text":"","code":"transform_spatiotemporal(data, transformation, ...)"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/transform_spatiotemporal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transform Spatio-Temporal Data — transform_spatiotemporal","text":"data data frame tibble containing spatio-temporal data transformation type transformation apply ... Additional arguments passed transformation function","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/transform_spatiotemporal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Transform Spatio-Temporal Data — transform_spatiotemporal","text":"Transformed data","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/transform_spatiotemporal.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Transform Spatio-Temporal Data — transform_spatiotemporal","text":"","code":"if (FALSE) { # \\dontrun{ transformed <- transform_spatiotemporal(data, \"normalize\") } # }"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/validate_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate Model Configuration — validate_config","title":"Validate Model Configuration — validate_config","text":"Validates model configuration schema","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/validate_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate Model Configuration — validate_config","text":"","code":"validate_config(config, schema)"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/validate_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate Model Configuration — validate_config","text":"config configuration validate schema schema validate ","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/validate_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate Model Configuration — validate_config","text":"TRUE valid, otherwise throws error details","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/validate_config.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate Model Configuration — validate_config","text":"","code":"if (FALSE) { # \\dontrun{ validate_config(my_config, schema) } # }"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/validate_model_io.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate Model Input/Output with Example Data — validate_model_io","title":"Validate Model Input/Output with Example Data — validate_model_io","text":"Validates model's training prediction functions work correctly specific example dataset produce output expected structure (matching time periods locations).","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/validate_model_io.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate Model Input/Output with Example Data — validate_model_io","text":"","code":"validate_model_io(   train_fn,   predict_fn,   example_data,   model_configuration = list() )"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/validate_model_io.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate Model Input/Output with Example Data — validate_model_io","text":"train_fn Training function takes (training_data, model_configuration = list()) returns trained model object predict_fn Prediction function takes (historic_data, future_data, saved_model, model_configuration = list()) returns predictions samples list-column. example_data Named list containing training_data, historic_data, future_data, predictions (returned get_example_data()) model_configuration Optional list model configuration parameters pass train_fn predict_fn","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/validate_model_io.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate Model Input/Output with Example Data — validate_model_io","text":"list validation results: success: Logical indicating validation passed errors: Character vector error messages () n_predictions: Number prediction rows returned n_samples: Number samples per forecast unit","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/validate_model_io.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Validate Model Input/Output with Example Data — validate_model_io","text":"models must return predictions samples list-column containing numeric vectors. deterministic models, use single sample per forecast unit (e.g., samples = list(c(42))). probabilistic models, include multiple Monte Carlo samples (e.g., 1000 samples per forecast unit).","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/validate_model_io.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate Model Input/Output with Example Data — validate_model_io","text":"","code":"if (FALSE) { # \\dontrun{ # Define simple model functions my_train <- function(training_data, model_configuration = list()) {   means <- training_data |>     dplyr::group_by(location) |>     dplyr::summarise(mean_cases = mean(disease_cases, na.rm = TRUE))   list(means = means) }  my_predict <- function(historic_data, future_data, saved_model,                        model_configuration = list()) {   future_data |>     tibble::as_tibble() |>     dplyr::left_join(saved_model$means, by = \"location\") |>     dplyr::mutate(samples = purrr::map(mean_cases, ~c(.x))) |>     dplyr::select(-mean_cases) }  # Get example data and validate example_data <- get_example_data('laos', 'M') result <- validate_model_io(my_train, my_predict, example_data) if (result$success) {   cat(\"Model validation passed!\\n\") } else {   cat(\"Validation failed:\\n\")   print(result$errors) } } # }"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/validate_model_io_all.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate Model Input/Output for All Available Datasets — validate_model_io_all","title":"Validate Model Input/Output for All Available Datasets — validate_model_io_all","text":"Validates model's training prediction functions work correctly available example datasets. function iterates country/frequency combinations validates one using validate_model_io().","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/validate_model_io_all.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate Model Input/Output for All Available Datasets — validate_model_io_all","text":"","code":"validate_model_io_all(   train_fn,   predict_fn,   country = NULL,   frequency = NULL,   model_configuration = list() )"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/validate_model_io_all.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate Model Input/Output for All Available Datasets — validate_model_io_all","text":"train_fn Training function takes (training_data, model_configuration = list()) returns trained model object predict_fn Prediction function takes (historic_data, future_data, saved_model, model_configuration = list()) returns predictions country Optional character string specifying country. NULL, tests available countries. Currently supports: 'laos' frequency Optional character string specifying temporal frequency. NULL, tests available frequencies. Currently supports: 'M' (monthly) model_configuration Optional list model configuration parameters pass train_fn predict_fn","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/validate_model_io_all.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate Model Input/Output for All Available Datasets — validate_model_io_all","text":"list validation results: success: Logical indicating validations passed results: Named list validation results country/frequency combination errors: Character vector error messages ()","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/validate_model_io_all.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate Model Input/Output for All Available Datasets — validate_model_io_all","text":"","code":"if (FALSE) { # \\dontrun{ # Define simple model functions my_train <- function(training_data, model_configuration = list()) {   list(mean_cases = mean(training_data$disease_cases, na.rm = TRUE)) }  my_predict <- function(historic_data, future_data, saved_model,                        model_configuration = list()) {   future_data$disease_cases <- saved_model$mean_cases   future_data }  # Validate across all available datasets result <- validate_model_io_all(my_train, my_predict) if (result$success) {   cat(\"✓ All validations passed!\\n\") } else {   cat(\"✗ Validation failed:\\n\")   print(result$errors) }  # Validate with specific country and frequency result <- validate_model_io_all(my_train, my_predict, country = 'laos', frequency = 'M') } # }"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/validate_model_output.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate Model Output — validate_model_output","title":"Validate Model Output — validate_model_output","text":"Performs sanity checks model prediction output ensure consistent chap expectations","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/validate_model_output.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate Model Output — validate_model_output","text":"","code":"validate_model_output(predictions, expected_schema)"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/validate_model_output.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate Model Output — validate_model_output","text":"predictions prediction output validate expected_schema expected schema predictions","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/validate_model_output.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate Model Output — validate_model_output","text":"list validation results (pass/fail error messages)","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/validate_model_output.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate Model Output — validate_model_output","text":"","code":"if (FALSE) { # \\dontrun{ validate_model_output(predictions, schema) } # }"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/write_model_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Write Model Configuration — write_model_config","title":"Write Model Configuration — write_model_config","text":"Writes configuration object YAML file","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/write_model_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write Model Configuration — write_model_config","text":"","code":"write_model_config(config, config_path, indent = 2)"},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/write_model_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write Model Configuration — write_model_config","text":"config Configuration list config_path Output path YAML file indent Number spaces indentation (default: 2)","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/write_model_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write Model Configuration — write_model_config","text":"Invisible NULL","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/reference/write_model_config.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Write Model Configuration — write_model_config","text":"","code":"if (FALSE) { # \\dontrun{ config <- list(model_type = \"rf\", parameters = list(n_trees = 100)) write_model_config(config, \"model_config.yaml\") } # }"},{"path":[]},{"path":[]},{"path":"https://knutdrand.github.io/chap_r_sdk/news/index.html","id":"new-features-0-1-0","dir":"Changelog","previous_headings":"Initial CRAN Release","what":"New Features","title":"chap.r.sdk 0.1.0","text":"Automatic CSV loading tsibble conversion Auto-detection time key columns Subcommand dispatch (train/predict/info) read_model_config() YAML configuration parsing write_model_config() configuration serialization get_config_param() safe nested parameter extraction Optional schema validation ajv package Mean model baseline example demonstrating unified CLI pattern EWARS spatio-temporal model example","code":""},{"path":"https://knutdrand.github.io/chap_r_sdk/news/index.html","id":"infrastructure-0-1-0","dir":"Changelog","previous_headings":"Initial CRAN Release","what":"Infrastructure","title":"chap.r.sdk 0.1.0","text":"Comprehensive test suite (28 tests) Complete roxygen2 documentation YAML configuration support (yaml package) Optional schema validation (ajv package) Proper namespacing external package dependencies","code":""}]
